{% extends 'layout.html' %}

{% block body %}


<div class="d-flex flex-row pb-2">
    <div class="pr-3">
        <h3>Team:</h3>
    </div>
    <div>
        <form class="" action="index.html" method="post">
            <select class="form-control">
                {% for team in teams %}
                <option value="{{ team.id }}">{{ team }}</option>
                {% endfor %}
            </select>
        </form>
    </div>

</div>



<div class="d-flex flex-row" style="width:100%;">
    <ul class="list-group p-3 ">
        <li class="list-group-item active">I'm Working</li>
        {% for person in people %}
        <li class="list-group-item"><a href="" class="btn btn-outline-dark">{{ person }}</a></li>
        {% endfor %}
    </ul>

    <ul class="list-group p-3">
        <li class="list-group-item active">I'm on Lunch Break</li>
        <li class="list-group-item"><a href="" class="btn btn-outline-dark">Cras justo odio</a></li>
        <li class="list-group-item"><a href="" class="btn btn-outline-dark">Dapibus ac facilisis in</a></li>
        <li class="list-group-item"><a href="" class="btn btn-outline-dark">Morbi leo risus</a></li>
        <li class="list-group-item"><a href="" class="btn btn-outline-dark">Porta ac consectetur ac</a></li>
        <li class="list-group-item"><a href="" class="btn btn-outline-dark">Vestibulum at eros</a></li>
    </ul>
</div>




<hr>


<div class="container create-team jumbotron">
    <form id="new_team_form">
        <div class="form-group">
            <label>Create a New Team</label>
            <input type="text" class="form-control" placeholder="Enter a team name" id="name" name="name">

        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
    </form>
</div>

<div class="container create-person jumbotron">
    <form action="/newPerson/" method="post">

        <div class="form-group">
            <label>Add new person to Team</label>
            <div class="form-row">

                <div class="col">
                    <input type="text" class="form-control" placeholder="Name" name="name">
                </div>

                <div class="col">
                    <select class="form-control" name="teamId">
                        {% for team in teams %}
                        <option value="{{ team.id }}">{{ team }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col">
                    <!-- <input type="email" class="form-control" placeholder="Email address"> -->
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Email" name="email">
                        <div class="input-group-append">
                            <span class="input-group-text">@sap.com</span>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <input type="text" class="form-control" placeholder="Contact number" name="contact">
                </div>
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>

    </form>
</div>



<script>
    const new_team_form = document.getElementById("new_team_form");
    new_team_form.addEventListener("submit", submitHandler);

    function submitHandler(event) {
        event.preventDefault();
        $.ajax({
            type: "POST",
            url: "",
            data: $("#new_team_form").serialize(),
            dataType: "json",
            contentType: "application/json",
            success: function(response) {
                // if
            }
        })
    }
</script>



{% endblock %}